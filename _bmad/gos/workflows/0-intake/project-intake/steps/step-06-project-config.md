---
name: 'step-06-project-config'
description: 'Generate project-config YAML with source refs, workflow readiness flags, and recommended execution sequence'

# File References
outputFile: '{planning_artifacts}/source-digest-{project_name}-gos.md'
configOutputFile: '{planning_artifacts}/project-config-{project_name}-gos.yaml'
---

# Step 6: Project Config Generation

## STEP GOAL:

Generate the project configuration YAML file that powers downstream workflow orchestration. This config captures source references, workflow readiness flags, recommended execution sequence, and all context needed for the Full Growth Orchestration workflow to execute automatically.

## MANDATORY EXECUTION RULES (READ FIRST):

### Universal Rules:

- NEVER generate content without user input for subjective decisions
- CRITICAL: Read the complete step file before taking any action
- YOU ARE A FACILITATOR, not a content generator
- YOU MUST ALWAYS SPEAK OUTPUT in your Agent communication style with the config `{communication_language}`

### Step-Specific Rules:

- You MAY autonomously generate the config - this is structured output from analysis
- Present the config for user review before finalizing
- This is the FINAL step of the intake workflow
- FORBIDDEN to start any downstream workflows

## EXECUTION PROTOCOLS:

- Generate config based on all data collected in steps 1-5
- Include all workflow readiness assessments
- Calculate recommended execution sequence based on dependencies and readiness
- Save both the config file and update the digest frontmatter

## Sequence of Instructions (Do not deviate, skip, or optimize)

### 1. Load Current State

Read `{outputFile}` to get the complete intake state including gap analysis results.

### 2. Calculate Execution Sequence

Determine the recommended workflow execution order based on:

1. **Phase order**: Strategy -> Content Engine -> Distribution -> Pipeline -> Sales -> Analytics
2. **Within-phase dependencies**: Some workflows depend on others' outputs
3. **Readiness status**: Ready workflows first, Partially Ready next, Blocked last
4. **Required first**: Required workflows before optional ones within each phase

Standard GOS dependency graph:
- GS (Growth Strategy) + GM (Growth Model) -> enables all downstream
- CP (Customer Personas) -> enables targeted content and campaigns
- CS (Channel Strategy) -> enables distribution phase
- GS + GM + CP -> enables CT (Content Strategy)
- CT -> enables all Phase 2 content creation (SE, BC, SC, ES, VC, PP)
- Phase 2 content -> enables Phase 3 distribution (SM, PC, LC, PR, PA, EV)
- PL (Pipeline Architecture) -> enables LS, NS, OB, SP
- Phase 3 + Phase 4 -> enables Phase 5 sales (SS, PT, CW, US)
- All phases -> enables Phase 6 analytics (GD, CA, FA, GE, RA)

### 3. Generate Project Config YAML

Create `{configOutputFile}` with this structure:

```yaml
# GOS Project Configuration
# Generated by Project Intake Workflow
# Date: {date}

project:
  name: "{project_name}"
  description: "{brief description}"
  growth_context:
    product_type: "{product type or TBD}"
    target_market: "{target market or TBD}"
    primary_channels: [{channels or TBD}]
    monthly_budget: "{budget or TBD}"

source_digest: "{planning_artifacts}/source-digest-{project_name}-gos.md"

workflow_readiness:
  # Phase 1 - Strategy
  create-growth-strategy:
    status: "{ready|partial|blocked}"
    required: true
    gaps: ["{list of gaps}"]
  create-growth-model:
    status: "{ready|partial|blocked}"
    required: true
    gaps: []
  create-customer-personas:
    status: "{status}"
    required: false
    gaps: []
  create-channel-strategy:
    status: "{status}"
    required: false
    gaps: []
  competitive-positioning:
    status: "{status}"
    required: false
    gaps: []
  create-product-brand-voice:
    status: "{status}"
    required: false
    gaps: []

  # Phase 2 - Content Engine
  create-content-strategy:
    status: "{status}"
    required: true
    gaps: []
  create-seo-strategy:
    status: "{status}"
    required: false
    gaps: []
  create-blog-content:
    status: "{status}"
    required: false
    gaps: []
  create-social-content:
    status: "{status}"
    required: false
    gaps: []
  create-email-sequences:
    status: "{status}"
    required: false
    gaps: []
  create-video-content:
    status: "{status}"
    required: false
    gaps: []
  create-podcast-plan:
    status: "{status}"
    required: false
    gaps: []

  # Phase 3 - Distribution
  create-social-campaigns:
    status: "{status}"
    required: false
    gaps: []
  create-paid-campaigns:
    status: "{status}"
    required: false
    gaps: []
  launch-campaign:
    status: "{status}"
    required: false
    gaps: []
  create-pr-campaign:
    status: "{status}"
    required: false
    gaps: []
  create-partner-program:
    status: "{status}"
    required: false
    gaps: []
  create-event-strategy:
    status: "{status}"
    required: false
    gaps: []

  # Phase 4 - Pipeline
  create-pipeline-architecture:
    status: "{status}"
    required: true
    gaps: []
  create-lead-scoring:
    status: "{status}"
    required: false
    gaps: []
  create-nurture-sequences:
    status: "{status}"
    required: false
    gaps: []
  create-onboarding-flow:
    status: "{status}"
    required: false
    gaps: []
  create-sales-playbooks:
    status: "{status}"
    required: false
    gaps: []

  # Phase 5 - Sales
  create-sales-scripts:
    status: "{status}"
    required: false
    gaps: []
  create-proposal-templates:
    status: "{status}"
    required: false
    gaps: []
  create-closing-workflows:
    status: "{status}"
    required: false
    gaps: []
  create-upsell-strategy:
    status: "{status}"
    required: false
    gaps: []

  # Phase 6 - Analytics
  growth-dashboard:
    status: "not-applicable"
    required: false
    gaps: []
  campaign-performance:
    status: "not-applicable"
    required: false
    gaps: []
  funnel-analysis:
    status: "not-applicable"
    required: false
    gaps: []
  growth-experiments:
    status: "not-applicable"
    required: false
    gaps: []
  retention-analysis:
    status: "not-applicable"
    required: false
    gaps: []

execution_sequence:
  - phase: "1-strategy"
    workflows:
      - name: "create-growth-strategy"
        command: "bmad-gos-create-growth-strategy"
        agent: "growth-strategist"
        status: "{status}"
      - name: "create-growth-model"
        command: "bmad-gos-create-growth-model"
        agent: "growth-strategist"
        status: "{status}"
      # ... remaining workflows in dependency order
  - phase: "2-content-engine"
    workflows: []
  - phase: "3-distribution"
    workflows: []
  - phase: "4-pipeline"
    workflows: []
  - phase: "5-sales"
    workflows: []
  - phase: "6-analytics"
    workflows: []

summary:
  total_workflows: 34
  ready: {count}
  partial: {count}
  blocked: {count}
  not_applicable: {count}
  required_ready: "{X} of {Y}"
  recommended_mode: "{auto|standard|manual}"
```

### 4. Update Digest Frontmatter

Update `{outputFile}` frontmatter:
- Set `status: complete`
- Set `stepsCompleted: [1, 2, 3, 4, 5, 6]`

### 5. Present Final Summary

"Project intake complete for {project_name}!

**Files Generated:**
- Source Digest: `{outputFile}`
- Project Config: `{configOutputFile}`

**Workflow Readiness:**
- **{ready_count}** workflows ready to execute
- **{partial_count}** partially ready (can start, may need supplements)
- **{blocked_count}** blocked (missing critical inputs)
- **{required_ready}** required workflows ready

**Recommended Orchestration Mode:** {Auto/Standard/Manual}
- Auto: Execute all ready workflows in sequence with minimal interaction
- Standard: Execute with checkpoints after each workflow for review
- Manual: Execute one workflow at a time with full interaction

**Next Step:** Select `[ORCH]` from the GOS Master menu to begin Full Growth Orchestration, or select any individual workflow to run it standalone."

### 6. Workflow Complete

This is the final step. The intake workflow is complete. Return control to the GOS Master Agent menu.

Display:

[MH] Return to GOS Master Menu
[ORCH] Start Full Growth Orchestration
[V] View project config
[D] View source digest

Wait for user input and route accordingly.
